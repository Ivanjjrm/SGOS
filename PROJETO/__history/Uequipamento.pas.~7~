unit Uequipamento;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls, Vcl.Buttons, Vcl.ExtCtrls,
  Vcl.Grids, Vcl.DBGrids, Data.DB, IBX.IBCustomDataSet, IBX.IBQuery, Uprincipal;

type
  TFrmEquipamento = class(TForm)
    Eequipamento: TEdit;
    Label1: TLabel;
    Ebusca: TEdit;
    Label2: TLabel;
    DBGrid1: TDBGrid;
    Panel1: TPanel;
    BitBtn4: TBitBtn;
    BitBtn1: TBitBtn;
    BitBtn2: TBitBtn;
    BitBtn3: TBitBtn;
    IBQuerycad: TIBQuery;
    DataSourceBusca: TDataSource;
    IBQuerybusca: TIBQuery;
    Eid: TEdit;
    procedure BitBtn3Click(Sender: TObject);
    procedure BitBtn4Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  FrmEquipamento: TFrmEquipamento;

implementation

{$R *.dfm}

procedure TFrmEquipamento.BitBtn3Click(Sender: TObject);
begin
close;
end;

procedure TFrmEquipamento.BitBtn4Click(Sender: TObject);
begin
 if (Eid.Text = '') and (Eequipam.Text <> '') and (Euf.Text <> '') then
  begin
   IBQueryCad.Close;
   IBQueryCAd.SQL.Text:='INSERT INTO CIDADE (ID_CID,NOME_CID,UF) VALUES (:id,:cidade,:uf)';
   IBQuerycad.ParamByName('id').Asinteger:=0;
   IBQuerycad.ParamByName('cidade').AsString:=Ecidade.Text;
   IBQuerycad.ParamByName('uf').AsString:=Euf.Text;
   IBQuerycad.ExecSQL;
   IBQuerygrid.active:= FALSE;
   IBQuerygrid.active:= true;
   Eid.Clear;Ecidade.Clear;Euf.Clear;
  end;
end;

end.
